{"version":3,"sources":["../src/whackamole/script.js"],"names":["timer","gameLoop","start","document","querySelector","buttons","querySelectorAll","timerTable","scoreTable","timeLeft","score","molePos","molePrev","updateMole","getRandomInt","min","max","Math","ceil","floor","random","startTimer","setInterval","innerHTML","toString","stopGame","startGame","getElementById","style","background","innerText","removeEventListener","addEventListener","main","forEach","button","checkMole","clearInterval","evt","currentTarget","id"],"mappings":";AAAA,IAKIA,EAAOC,EALLC,EAAQC,SAASC,cAAc,UAC/BC,EAAUF,SAASG,iBAAiB,SACpCC,EAAaJ,SAASC,cAAc,UACpCI,EAAaL,SAASC,cAAc,UACtCK,EAAW,GAAIC,EAAQ,EAEvBC,EAAU,KAAMC,EAAW,KAC3BC,EAAa,IAEjB,SAASC,EAAaC,EAAKC,GAGhBC,OAFPF,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,IAAQA,EAMrD,SAASM,IACLrB,EAAQsB,YAAY,WAChBb,IACAF,EAAWgB,UAAY,SAAWd,EAASe,WAAa,IACpDf,GAAY,GACZgB,KAEL,KAGP,SAASC,IACLzB,EAAWqB,YAAY,WAKZX,IAHS,OADhBC,EAAWD,KAEPR,SAASwB,eAAef,EAASY,YAAYI,MAAMC,WAAa,QAE7DlB,IAAYC,GACfD,EAA+B,GAArBG,EAAa,EAAG,GAAUA,EAAa,EAAG,GAExDX,SAASwB,eAAehB,EAAQa,YAAYI,MAAMC,WAAa,UAChEhB,GAGP,SAASY,IACLvB,EAAM4B,UAAY,UAClB5B,EAAM6B,oBAAoB,QAASN,GACnCvB,EAAM8B,iBAAiB,QAASC,GAChC5B,EAAQ6B,QAAQ,SAAAC,GACZA,EAAOJ,oBAAoB,QAASK,GACpCD,EAAOP,MAAMC,WAAa,SAE9BQ,cAAcpC,GACdoC,cAAcrC,GAGlB,SAASoC,EAAUE,GACX3B,EAAQa,aAAec,EAAIC,cAAcC,KACzC9B,IACAF,EAAWsB,UAAY,UAAWpB,EAAMc,YAIhD,SAASS,IACL/B,EAAM6B,oBAAoB,QAASE,GACnC5B,EAAQ6B,QAAQ,SAAAC,GACZA,EAAOH,iBAAiB,QAASI,KAErC7B,EAAWuB,UAAY,YACvBtB,EAAWsB,UAAY,WACvB5B,EAAM4B,UAAY,QAClB5B,EAAM8B,iBAAiB,QAASP,GAChChB,EAAW,GACXC,EAAQ,EACRgB,IACAL,IAxDJnB,EAAM8B,iBAAiB,QAASC","file":"script.46bb5f7f.js","sourceRoot":"..\\public","sourcesContent":["const start = document.querySelector('.start')\r\nconst buttons = document.querySelectorAll('.cell')\r\nconst timerTable = document.querySelector('.timer')\r\nconst scoreTable = document.querySelector('.score')\r\nlet timeLeft = 15, score = 0\r\nlet timer, gameLoop\r\nlet molePos = null, molePrev = null\r\nlet updateMole = 500\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min)\r\n    max = Math.floor(max)\r\n    return Math.floor(Math.random() * (max - min)) + min\r\n    //Максимум не включается, минимум включается\r\n}\r\n\r\nstart.addEventListener('click', main)\r\n\r\nfunction startTimer() {\r\n    timer = setInterval(() => {\r\n        timeLeft--\r\n        timerTable.innerHTML = \"Time: \" + timeLeft.toString() + \"s\"\r\n        if (timeLeft <= 0) {\r\n            stopGame()\r\n        }\r\n    }, 1000)\r\n}\r\n\r\nfunction startGame(){\r\n    gameLoop = setInterval(() => {\r\n        molePrev = molePos\r\n        if (molePrev != null){\r\n            document.getElementById(molePrev.toString()).style.background = \"peru\"\r\n        }\r\n        while (molePos === molePrev){\r\n            molePos = getRandomInt(1, 5) * 10 + getRandomInt(1, 5)\r\n        }\r\n        document.getElementById(molePos.toString()).style.background = \"orange\"\r\n    }, updateMole)\r\n}\r\n\r\nfunction stopGame() {\r\n    start.innerText = \"Restart\"\r\n    start.removeEventListener('click', stopGame)\r\n    start.addEventListener('click', main)\r\n    buttons.forEach(button => {\r\n        button.removeEventListener('click', checkMole)\r\n        button.style.background = \"peru\"\r\n    })\r\n    clearInterval(gameLoop)\r\n    clearInterval(timer)\r\n}\r\n\r\nfunction checkMole(evt){\r\n    if (molePos.toString() === evt.currentTarget.id){\r\n        score++\r\n        scoreTable.innerText = \"Score: \"+ score.toString()\r\n    }\r\n}\r\n\r\nfunction main() {\r\n    start.removeEventListener('click', main)\r\n    buttons.forEach(button => {\r\n        button.addEventListener('click', checkMole)\r\n    })\r\n    timerTable.innerText = \"Time: 15s\"\r\n    scoreTable.innerText = \"Score: 0\"\r\n    start.innerText = \"Pause\"\r\n    start.addEventListener('click', stopGame)\r\n    timeLeft = 15\r\n    score = 0\r\n    startGame()\r\n    startTimer()\r\n}\r\n"]}